{"ast":null,"code":"import _slicedToArray from\"/Users/hariharan/Desktop/test project copy/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{Form,Button,Row,Col}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import Loader from\"../Loader\";import Message from\"../Message\";import FormContainer from\"../FormContainer\";import{login}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginScreen(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var redirect=location.search?location.search.split('=')[1]:'/';var userLogin=useSelector(function(state){return state.userLogin;});var error=userLogin.error,loading=userLogin.loading,userInfo=userLogin.userInfo;useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" Sign In \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-right-to-bracket\"})]}),/*#__PURE__*/_jsx(\"br\",{}),error&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-at\"}),\" Email Adderss\"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-key\"}),\" Password\"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Sign In\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-light fa-person-half-dress\"}),\" New Customer?\",\" \",/*#__PURE__*/_jsxs(Link,{to:redirect?\"/register?redirect=\".concat(redirect):\"/register\",children:[\"Register \",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-solid fa-registered\"})]})]})})]});}export default LoginScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","Form","Button","Row","Col","useDispatch","useSelector","Loader","Message","FormContainer","login","LoginScreen","location","history","email","setEmail","password","setPassword","dispatch","redirect","search","split","userLogin","state","error","loading","userInfo","push","submitHandler","e","preventDefault","target","value"],"sources":["/Users/hariharan/Desktop/test project copy/backend/frontend/src/components/Screens/LoginScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Form, Button, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../Loader\";\nimport Message from \"../Message\";\nimport FormContainer from \"../FormContainer\";\nimport { login } from \"../../actions/userActions\";\n\nfunction LoginScreen({ location, history }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const dispatch = useDispatch()\n\n  const redirect = location.search ? location.search.split('=')[1] : '/'\n\n  const userLogin = useSelector(state => state.userLogin)\n  const { error, loading, userInfo } = userLogin\n\n  useEffect(() => {\n    if (userInfo) {\n        history.push(redirect)\n    }\n}, [history, userInfo, redirect])\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  return (\n    <FormContainer>\n      <h1> Sign In <i class=\"fas fa-right-to-bracket\"></i></h1>\n      <br/>\n      {error && <Message variant ='danger'>{error}</Message>}\n      {loading && <Loader />}\n      <Form onSubmit={submitHandler}>\n        <Form.Group controlId=\"email\">\n          <Form.Label><i class=\"fa-solid fa-at\"></i> Email Adderss</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n        <br></br>\n\n        <Form.Group controlId=\"password\">\n          <Form.Label><i class=\"fa-solid fa-key\"></i> Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Enter Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          ></Form.Control>\n        </Form.Group>\n        <br></br>\n        <Button type=\"submit\" variant=\"primary\">\n          Sign In\n        </Button>\n      </Form>\n      <Row className=\"py-3\">\n        <Col>\n        <i class=\"fas fa-light fa-person-half-dress\"></i> New Customer?{\" \"}\n          <Link to={redirect ? `/register?redirect=${redirect}` : \"/register\"}>\n            Register <i class=\"fas fa-solid fa-registered\"></i>\n          </Link>\n        </Col>\n      </Row>\n    </FormContainer>\n  );\n}\n\nexport default LoginScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}