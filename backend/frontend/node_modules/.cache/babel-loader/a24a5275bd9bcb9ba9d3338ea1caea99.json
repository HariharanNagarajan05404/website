{"ast":null,"code":"import _toConsumableArray from\"/Users/hariharan/Desktop/test project copy/backend/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/hariharan/Desktop/test project copy/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{Row,Col,Image,ListGroup,Button,Card,Form}from'react-bootstrap';import Loader from'../Loader';import Message from'../Message';import{listProductDetails}from'../../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-light my-3\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:5,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"br\",{}),\" Description: \",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock>0?'In Stock':'Out of Stock'})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty\"}),/*#__PURE__*/_jsx(Col,{xs:\"auto\",className:\"my-1\",children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",disabled:product.countInStock==0,type:\"button\",children:\"Add to Cart\"})})]})})})]})})]});}export default ProductScreen;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Link","Row","Col","Image","ListGroup","Button","Card","Form","Loader","Message","listProductDetails","ProductScreen","match","history","qty","setQty","dispatch","productDetails","state","loading","error","product","userLogin","userInfo","params","id","addToCartHandler","push","image","name","price","description","countInStock","e","target","value","Array","keys","map","x"],"sources":["/Users/hariharan/Desktop/test project copy/backend/frontend/src/components/Screens/ProductScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { Row, Col, Image, ListGroup, Button, Card, Form } from 'react-bootstrap'\nimport Loader from '../Loader'\nimport Message from '../Message'\nimport { listProductDetails} from '../../actions/productActions'\n\n\nfunction ProductScreen({ match, history }) {\n    const [qty, setQty] = useState(1)\n    \n\n    const dispatch = useDispatch()\n\n    const productDetails = useSelector(state => state.productDetails)\n    const { loading, error, product } = productDetails\n\n    const userLogin = useSelector(state => state.userLogin)\n    const { userInfo } = userLogin\n\n    useEffect(() => {\n        dispatch(listProductDetails(match.params.id))\n    },[dispatch,match])\n    \n\n    \n\n    const addToCartHandler = () => {\n       history.push(`/cart/${match.params.id}?qty=${qty}`)\n    \n    }\n\n    \n\n    return (\n        <div>\n            <Link to='/' className='btn btn-light my-3'>Go Back</Link>\n            {loading ?\n                <Loader />\n                : error\n                    ? <Message variant='danger'>{error}</Message>\n                    : (\n                        <div>\n                            <Row>\n                                <Col md={5}>\n                                    <Image src={product.image} alt={product.name} fluid />\n                                </Col>\n\n\n                                <Col md={3}>\n                                    <ListGroup variant=\"flush\">\n                                        <ListGroup.Item>\n                                            <h3>{product.name}</h3>\n                                        </ListGroup.Item>\n\n\n                                        <ListGroup.Item>\n                                            Price: ${product.price}\n                                        </ListGroup.Item>\n\n                                        <ListGroup.Item>\n                                           <br/> Description: {product.description}\n                                        </ListGroup.Item>\n                                    </ListGroup>\n                                </Col>\n\n\n                                <Col md={3}>\n                                    <Card>\n                                        <ListGroup variant='flush'>\n                                            <ListGroup.Item>\n                                                <Row>\n                                                    <Col>Price:</Col>\n                                                    <Col>\n                                                        <strong>${product.price}</strong>\n                                                    </Col>\n                                                </Row>\n                                            </ListGroup.Item>\n                                            <ListGroup.Item>\n                                                <Row>\n                                                    <Col>Status:</Col>\n                                                    <Col>\n                                                        {product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\n                                                    </Col>\n                                                </Row>\n                                            </ListGroup.Item>\n\n                                            {product.countInStock > 0 && (\n                                                <ListGroup.Item>\n                                                    <Row>\n                                                        <Col>Qty</Col>\n                                                        <Col xs='auto' className='my-1'>\n                                                            <Form.Control\n                                                                as=\"select\"\n                                                                value={qty}\n                                                                onChange={(e) => setQty(e.target.value)}\n                                                            >\n                                                                {\n\n                                                                    [...Array(product.countInStock).keys()].map((x) => (\n                                                                        <option key={x + 1} value={x + 1}>\n                                                                            {x + 1}\n                                                                        </option>\n                                                                    ))\n                                                                }\n\n                                                            </Form.Control>\n                                                        </Col>\n                                                    </Row>\n                                                </ListGroup.Item>\n                                            )}\n\n\n                                            <ListGroup.Item>\n                                                <Button\n                                                    onClick={addToCartHandler}\n                                                    className='btn-block'\n                                                    disabled={product.countInStock == 0}\n                                                    type='button'>\n                                                    Add to Cart\n                                                </Button>\n                                            </ListGroup.Item>\n                                        </ListGroup>\n                                    </Card>\n                                </Col>\n                            </Row>\n\n                            \n                        </div>\n                    )\n\n            }\n\n\n        </div >\n    )\n}\n\nexport default ProductScreen"],"mappings":"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"},"metadata":{},"sourceType":"module"}